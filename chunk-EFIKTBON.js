import{a as E}from"./chunk-2TT7GB64.js";import{a as M}from"./chunk-CMSCQVRT.js";import{a as D,b as I}from"./chunk-PWZO2GUF.js";import"./chunk-CVZVANID.js";import{a as V}from"./chunk-M6BKKOPP.js";import"./chunk-KVNXUSFW.js";import{b,la as P,va as W,z as x}from"./chunk-QBO7NEXS.js";import{Ab as o,Da as m,Oa as v,Ob as y,Ua as _,X as p,aa as c,ba as u,gb as C,gc as L,hb as F,ib as S,jb as w,kb as T,lb as l,mb as a,nb as r,ob as g,vb as f,zb as h}from"./chunk-JON7ULIB.js";function B(e,t){if(e&1){let i=f();a(0,"div",5)(1,"app-card",7),h("addToShoppinglist",function(n){c(i);let d=o(3);return u(d.handleAddToShoppingList(n))})("addToWishlist",function(n){c(i);let d=o(3);return u(d.handleAddToWishlist(n))}),r()()}if(e&2){let i=t.$implicit;m(),l("product",i)}}function O(e,t){e&1&&(a(0,"p",6),y(1," \u0645\u062D\u0635\u0648\u0644\u06CC \u062F\u0631 \u0644\u06CC\u0633\u062A \u0639\u0644\u0627\u0642\u0647 \u0645\u0646\u062F\u06CC \u0647\u0627 \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F "),r())}function $(e,t){if(e&1&&w(0,B,2,1,"div",5,S,!1,O,2,0,"p",6),e&2){let i=o().$implicit;T(i)}}function N(e,t){e&1&&(a(0,"div",5),g(1,"app-card-loading"),r())}function j(e,t){if(e&1&&_(0,N,2,0,"div",8),e&2){let i=o().$implicit;l("ngForOf",i)}}function k(e,t){if(e&1&&(a(0,"div",4),C(1,$,3,1)(2,j,1,1,"div",5),r()),e&2){let i=o();m(),F(i.isLoaded?1:2)}}var R=class e{wishlistService=p(D);messageService=p(x);shareDataService=p(V);BreadcrumbItems;layout="grid";allProducts=[];isLoaded=!1;currentFirst=0;rowsPerPage=8;totalRecords=0;ngOnInit(){setTimeout(()=>this.isLoaded=!0,1e3),this.BreadcrumbItems=[{label:"\u0639\u0644\u0627\u0642\u0647 \u0645\u0646\u062F\u06CC \u0647\u0627"}],this.loadWishlist(),this.shareDataService.wishlistChanged$.subscribe(()=>{this.loadWishlist()})}loadWishlist(){this.allProducts=this.wishlistService.getList(),this.totalRecords=this.allProducts.length}onPageChange(t){this.currentFirst=t.first??0,this.rowsPerPage=t.rows??8,this.isLoaded=!1,setTimeout(()=>this.isLoaded=!0,500)}handleAddToShoppingList(t){t.inShoppinglist?this.messageService.add({severity:"success",detail:"\u0645\u062D\u0635\u0648\u0644 \u0628\u0647 \u0633\u0628\u062F \u062E\u0631\u06CC\u062F \u0627\u0636\u0627\u0641\u0647 \u0634\u062F"}):this.messageService.add({severity:"info",detail:"\u0645\u062D\u0635\u0648\u0644 \u0627\u0632 \u0633\u0628\u062F \u062E\u0631\u06CC\u062F \u062D\u0630\u0641 \u0634\u062F"})}handleAddToWishlist(t){t.inWishlist?this.messageService.add({severity:"success",detail:"\u0645\u062D\u0635\u0648\u0644 \u0628\u0647 \u0644\u06CC\u0633\u062A \u0639\u0644\u0627\u0642\u0647\u200C\u0645\u0646\u062F\u06CC\u200C\u0647\u0627 \u0627\u0636\u0627\u0641\u0647 \u0634\u062F"}):this.messageService.add({severity:"info",detail:"\u0645\u062D\u0635\u0648\u0644 \u0627\u0632 \u0644\u06CC\u0633\u062A \u0639\u0644\u0627\u0642\u0647\u200C\u0645\u0646\u062F\u06CC\u200C\u0647\u0627 \u062D\u0630\u0641 \u0634\u062F"}),this.loadWishlist()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=v({type:e,selectors:[["app-favorites-list"]],decls:5,vars:7,consts:[["dv",""],["grid",""],[3,"items"],[3,"onPage","value","layout","rows","paginator","totalRecords","first"],[1,"grid","grid-cols-12","gap-4","pb-6"],[1,"col-span-12","sm:col-span-6","lg:col-span-3"],[1,"text-surface-500","whitespace-nowrap"],[3,"addToShoppinglist","addToWishlist","product"],["class","col-span-12 sm:col-span-6 lg:col-span-3",4,"ngFor","ngForOf"]],template:function(i,s){if(i&1){let n=f();g(0,"app-breadcrumb",2),a(1,"p-dataview",3,0),h("onPage",function(A){return c(n),u(s.onPageChange(A))}),_(3,k,3,1,"ng-template",null,1,L),r()}i&2&&(l("items",s.BreadcrumbItems),m(),l("value",s.allProducts)("layout",s.layout)("rows",s.rowsPerPage)("paginator",!0)("totalRecords",s.totalRecords)("first",s.currentFirst))},dependencies:[W,b,P,I,E,M],encapsulation:2})};export{R as FavoritesList};
