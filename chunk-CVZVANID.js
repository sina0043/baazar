import{a as l}from"./chunk-KVNXUSFW.js";import{S as n,X as f,a as o,b as a}from"./chunk-JON7ULIB.js";var c=class s{platformService=f(l);storageKey="shopping-list";getList(){if(this.platformService.isServer())return[];let e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}add(e){if(this.platformService.isServer())return;let t=this.getList(),i=t.find(r=>r.id===e.id);i?i.quantity+=1:t.push(a(o({},e),{quantity:1})),localStorage.setItem(this.storageKey,JSON.stringify(t))}updateQuantity(e,t){if(this.platformService.isServer())return;let i=this.getList(),r=i.find(g=>g.id===e);r&&(r.quantity=t<1?1:t,localStorage.setItem(this.storageKey,JSON.stringify(i)))}remove(e){if(this.platformService.isServer())return;let t=this.getList();t=t.filter(i=>i.id!==e),localStorage.setItem(this.storageKey,JSON.stringify(t))}isInList(e){return this.platformService.isServer()?!1:this.getList().some(t=>t.id===e)}static \u0275fac=function(t){return new(t||s)};static \u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})};export{c as a};
